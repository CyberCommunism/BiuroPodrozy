<app-menu></app-menu>
<div *ngFor="let x of currTrip">
<div class="generalTripInfo" style="margin-left: auto; margin-right: auto; width: 90%; margin-top: 50px;">
  <div class="card mb-3" style="max-width: 100%;">
    <div class="row g-0">
      <div class="col-md-4">
        <img src="{{ x.imgURL }}" alt="...">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">{{ x.name }}</h5>
          <p class="card-text">
            Country:  {{ x.aim }}<br>
            Start of trip: {{ x.startTrip }}<br>
            End of Trip: {{ x.endTrip }}<br>
            Trip price: {{ x.price }} {{ x.currency }}<br>
            Free spaces: {{ x.maxSpace - x.booked }}<br>
            Description: {{ x.description }} <br>
            <span *ngIf="x.rateNum != 0">Rate: {{ (x.rate/x.rateNum) | number : '1.2-2' }}</span>
          </p>
          <div class="odBut">
            <button class="button" (click)="book()" [ngStyle]="{'display': x.booked < x.maxSpace ? 'block' : 'none' }"
            *ngIf="this.user">Book</button>
          </div>
          <div class="odBut">
            <button class="button1" (click)="cancel()" [ngStyle]="{'display': x.booked > 0 ? 'block' : 'none' }" type="button"
                    *ngIf="this.user">Cancel reservations</button>
          </div>

          <div class="rateDiv odBut"  *ngIf="this.user">
            <select id="selec" [(ngModel)]="rateChose" (ngModelChange)="addToRate()">
              <option class="rateScale" value="Rate here" selected disabled hidden>Rate here</option>
              <option class="rateScale">1</option>
              <option class="rateScale">2</option>
              <option class="rateScale">3</option>
              <option class="rateScale">4</option>
              <option class="rateScale">5</option>
            </select>
            <span style="margin: 10px;"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

